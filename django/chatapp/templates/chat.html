{% extends 'base.html' %}

{% block site_title %}Chat Page{% endblock %}

{% block style %}
<style>
	body {
		color: white;
	}
	a {
		text-decoration: none;
	}
</style>
{% endblock %}

{% block content %}

<div class="container pt-3">

	<div class="row">
		<!-- friend chat -->
		<div class="col content-friend px-4 py-4 mx-1 mt-2" style="height: 90vh;">
			<div class="profile-main-text text-center mb-3">Chat</div>
			<!-- friend chat -->
			<div class="chat-h-body h-75">
				<ui class="chat-contacts">
					{% if rooms %}
					{% for room in rooms %}
						{% if room.user1 == request.user and room.user2.active %}
							<a href="{{ room.slug }}">
								<li class="chat-box">
									<div class="d-flex bd-highligh align-items-center profile-content-text py-1">
										<div class="chat-image">
											<img src="https://img.freepik.com/free-psd/portrait-teenage-boy-white-hoodie-gray-background_1142-60290.jpg?w=1380&t=st=1714908991~exp=1714909591~hmac=4ec5e60aa745cb307b99286ad267b22f9caf2aa29bc752612cc5d53402e9476c" class="rounded-circle user_img">
											<span class="online_icon"></span>
										</div>
										<div class="px-2">
											<span>{{room.user2.username}}</span><br>
											<span class="profile-label-text">last text</span>
										</div>
										<div class="px-2 align-items-end ms-auto">
											<p>00:00</p>
										</div>
									</div>
								</li>
							</a>
						{% elif room.user2 == request.user and room.user1.active %}
							<a href="{{ room.slug }}">
								<li class="chat-box">
									<div class="d-flex bd-highligh align-items-center profile-content-text py-1">
										<div class="chat-image">
											<img src="https://img.freepik.com/free-psd/portrait-teenage-boy-white-hoodie-gray-background_1142-60290.jpg?w=1380&t=st=1714908991~exp=1714909591~hmac=4ec5e60aa745cb307b99286ad267b22f9caf2aa29bc752612cc5d53402e9476c" class="rounded-circle user_img">
											<span class="online_icon"></span>
										</div>
										<div class="px-2">
											<span>{{room.user1.username}}</span><br>
											<span class="profile-label-text">last text</span>
										</div>
										<div class="px-2 align-items-end ms-auto">
											<p>00:00</p>
										</div>
									</div>
								</li>
							</a>
						{% endif %}
					{% endfor %}
					{% for room in rooms %}
							{% if room.user1 == request.user and not room.user2.active %}
								<a href="{{ room.slug }}">
									<li class="chat-box">
										<div class="d-flex bd-highligh align-items-center profile-content-text py-1">
											<div class="chat-image">
												<img src="https://img.freepik.com/free-psd/portrait-teenage-boy-white-hoodie-gray-background_1142-60290.jpg?w=1380&t=st=1714908991~exp=1714909591~hmac=4ec5e60aa745cb307b99286ad267b22f9caf2aa29bc752612cc5d53402e9476c" class="rounded-circle user_img">
												<span class="online_icon offline"></span>
											</div>
											<div class="px-2">
												<span>{{room.user2.username}}</span><br>
												<span class="profile-label-text">last text</span>
											</div>
											<div class="px-2 align-items-end ms-auto">
												<p>00:00</p>
											</div>
										</div>
									</li>
								</a>	
							{% elif room.user2 == request.user and not room.user1.active %}
								<a href="{{ room.slug }}">
									<li class="chat-box">
										<div class="d-flex bd-highligh align-items-center profile-content-text py-1">
											<div class="chat-image">
												<img src="https://img.freepik.com/free-psd/portrait-teenage-boy-white-hoodie-gray-background_1142-60290.jpg?w=1380&t=st=1714908991~exp=1714909591~hmac=4ec5e60aa745cb307b99286ad267b22f9caf2aa29bc752612cc5d53402e9476c" class="rounded-circle user_img">
												<span class="online_icon offline"></span>
											</div>
											<div class="px-2">
												<span>{{room.user1.username}}</span><br>
												<span class="profile-label-text">last text</span>
											</div>
											<div class="px-2 align-items-end ms-auto">
												<p>00:00</p>
											</div>
										</div>
									</li>
								</a>
							{% endif %}
					{% endfor %}
					{% endif %}
				</ui>
			</div>
		</div>

		<!-- main -->
		<div class="col-md-9 content-friend px-4 py-4 mx-1 mt-2 pb-5"></div>

	</div>

</div>

{% endblock %}